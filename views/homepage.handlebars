<!-- Loop over each object in the posts array -->
{{#each posts as |post| }}
<div class="row post mb-4 p-3 border rounded shadow-sm">
  <div class="col-12">
    <div class="post-header d-flex align-items-center mb-3">
      <div class="mr-3">
        <h3 class="mb-0 font-weight-bold">{{post.user.username}}</h3>
        <p class="text-muted small mb-0">{{format_date post.created_at}}</p>
      </div>
    </div>

    <div id="chat-box" class="chat-box hidden">
  <div class="chat-header">
    <h4>Live Chat</h4>
    <button id="chat-toggle" class="btn btn-dark">Close</button>
  </div>
  <div class="chat-messages" id="messages-container">
    <ul id="messages" class="message-list"></ul>
  </div>
  <form id="chat-form" class="chat-form">
    <input
      id="chat-input"
      type="text"
      placeholder="Type a message..."
      autocomplete="off"
      class="chat-input"
    />
    <button type="submit" class="btn btn-primary">Send</button>
  </form>
</div>

    <div class="post-content">
      <p class="mb-0">{{post.content}}</p>
    </div>
  </div>
</div>
{{/each}}